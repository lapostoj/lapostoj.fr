---
const menu = [
  {
    label: 'About me',
    path: '/',
  },
  {
    label: 'Posts',
    path: '/posts/',
  },
];

const pathname = new URL(Astro.request.url).pathname;
---

<nav class="menu">
  <ul class="menu__list">
    {
      menu.map(({ path, label }) => (
        <li class="menu__list-item">
          <a
            href={path}
            class={pathname === path ? "menu__list-item-link menu__list-item-link--active" : "menu__list-item-link"}
          >
            {label}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<style lang="scss">
  @import '../styles/scss/variables';
  @import '../styles/scss/mixins';

  .menu {
    @include margin-bottom(1);
    &__list {
      list-style: none;
      padding: 0;
      margin: 0;
      &-item {
        padding: 0;
        margin: 10px 0;
        &-link {
          font-size: $typographic-base-font-size;
          color: $typographic-base-font-color;
          font-weight: 400;
          border: 0;
          &:hover,
          &:focus {
            color: $color-primary;
            border-bottom: 1px solid $color-primary;
          }
          &--active {
            color: $color-base;
            border-bottom: 1px solid $color-base;
          }
        }
      }
    }
  }
</style>
